# faas-sdk for Node.js

SDK –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ [Express](https://expressjs.com/) –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Ñ—É–Ω–∫—Ü–∏–π –Ω–∞ NodeJS, –≤—ã–ø–æ–ª–Ω—è–µ–º—ã—Ö –≤ —Å—Ä–µ–¥–µ Platform V Functions.

### Quickstart:

1. –°–æ–∑–¥–∞–π—Ç–µ `package.json`, –∏—Å–ø–æ–ª—å–∑—É—è –∫–æ–º–∞–Ω–¥—É `npm init -y`

2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `index.js` —Å —Ñ—É–Ω–∫—Ü–∏–µ–π:
   
```js
    exports.handler = (req, res) => {
       let message = req.query.message || req.body.message || "Hello from Function";
       res.status(200).send(message);
    };
```
       
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ faas-sdk-nodejs –∏—Å–ø–æ–ª—å–∑—É—è npm:

```sh
    npm install https://dzo.sw.sbc.space/bitbucket-ci/scm/faas/faas-sdk-nodejs.git
```
4. –î–æ–±–∞–≤—å—Ç–µ —Å–∫—Ä–∏–ø—Ç `start` –≤ —Ñ–∞–π–ª `package.json` —Å –Ω—É–∂–Ω—ã–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏:

```
  "scripts": {
    "start": "faas-sdk-nodejs --target=handler"
  }
```
   
5. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `npm start`:
   
```sh
    npm start
    ...
    Function: handler
    üöÄ Function ready at http://localhost:8082
```
       
6. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∑–∞–ø—Ä–æ—Å –∏—Å–ø–æ–ª—å–∑—É—è `curl`, –±—Ä–∞—É–∑–µ—Ä –∏–ª–∏ –¥—Ä—É–≥–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:

```sh
    curl localhost:8082
    # Output: Hello from Function
```
   
## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–í—ã –º–æ–∂–µ—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞—Ç—å faas-sdk-nodejs —Å –ø–æ–º–æ—â—å—é —Ñ–ª–∞–≥–æ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –∏–ª–∏
–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å—Ä–µ–¥—ã:

| –§–ª–∞–≥        | –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã  |–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ                                                                 |
| ------------| ------------------|-------------| -------------------------------------------------------------------------|
| `--port`    | `PORT`            |8082         | –ü–æ—Ä—Ç –¥–ª—è faas-sdk-nodejs.                                                |
| `--target`  | `FUNCTION_TARGET` |handler      | –ò–º—è —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º–æ–π —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–∞—Ö.       |
| `--source`  | `FUNCTION_SOURCE` |–ö–æ—Ä–µ–Ω—å –ø–∞–ø–∫–∏ | –ü—É—Ç—å –∫ –∫–∞—Ç–∞–ª–æ–≥—É –≤–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–∏.                                           |

–ú–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –≤ —Å–∫—Ä–∏–ø—Ç `start` –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–æ–º–∞–Ω–¥—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä: 

```
  "scripts": {
    "start": "faas-sdk-nodejs --target=your_function_name --source=./src"
  }
```
    
–¢–∞–∫–∂–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É —Å –≤–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–µ–π –≤ `package.json`, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```
    "main": "handler.js"
```
–ï—Å–ª–∏ —ç—Ç–æ –Ω–µ —É–∫–∞–∑–∞–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –±—É–¥–µ—Ç –≤–∑—è—Ç index.js –Ω–∞—Ö–æ–¥—è—â–∏–π—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, —É–∫–∞–∑–∞–Ω–Ω–æ–π –≤ --source –∏–ª–∏ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Å—Ä–µ–¥—ã.     
